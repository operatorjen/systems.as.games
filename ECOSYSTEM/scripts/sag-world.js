(()=>{let r=((window.SAG&&SAG.get?SAG.get():{}).flags||[]).find(e=>e.startsWith("active:SAG-")),c=r?r.replace("active:",""):new URLSearchParams(location.search).get("code");if(c){let i=function(n){window.SAGWorlds?n():setTimeout(()=>i(n),0)};var y=i;let e=document.getElementById("world");i(()=>{let{parseSAG:n,worldFromSAG:p}=window.SAGWorlds,l=new URLSearchParams(location.search).get("code")||"SAG-000",s=n(l);if(!s){e.textContent="Unknown code.";return}let t=p(l);if(!t){e.textContent="Unknown code.";return}let{code:d,motifs:a,knobs:o}=t;e.dataset.sag=d,e.dataset.sagWind=t.knobs.wind?1:0,e.dataset.sagDay=t.knobs.daylight?1:0,e.dataset.sagFacet=t.knobs.facetDepth,e.style.setProperty("--spawn",t.knobs.spawnRate),e.style.setProperty("--reveal",t.knobs.revealChance),e.style.setProperty("--gate",t.knobs.gateCost),e.style.setProperty("--depth",t.knobs.facetDepth);let g=(s.R*45+s.G*30+s.M*60)%360,h=t.knobs.daylight?.55+s.G*.06:.35+s.G*.03;e.style.setProperty("--h",g),e.style.setProperty("--light",h),e.innerHTML=`<h1>${d}</h1><div id="motifs"><span>${a.garden.name}</span><span>${a.helios.name}</span><span>${a.crags.name}</span><span>${a.facet.name}</span></div><ul id="knobs"><li>Spawn: ${o.spawnRate.toFixed(2)}</li><li>Reveal: ${Math.round(100*o.revealChance)}%</li><li>Gate: ${o.gateCost}</li><li>Wind: ${o.wind?"on":"off"}</li></ul>`})}window.SAGWorlds.addWorldSymbol()})();