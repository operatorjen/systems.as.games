for(_=':"@.filter(~leentdocum=.createEm(.appendChild(,worldFromSAG:ne,activateSAGWorld:se,activateCode:re,mergeSAG:}flaget=>Attribute("data-",l [data-requires]t).forEach(s{d=s.grequires")?.split(").map(craftIcons.ngthclass),).map(([X,Y])e("span{@sag-chip"},[O(X" `${x(X)} \\xD7 ${Y}`])||{}in.replace(	rurne("div{@ sag-section"},[e("h3{},["()SAGGame.addEvListener(Object.function({var ie=u/^sag[-\\s]?[0-6]{3}$/i.test(ute=u{e=/^(?:SAG)[-\\s]?([0-6])([0-6])([0-6])$/.exec(Strg(u||"").trim.toUpperCase	/\\s+/g,"-")); e?{code:`SAG-${e[1]}${e[2]}${e[3]}`,R:+e[1],G:+e[2],M:+e[3],seed:e[1]*49+e[2]*7+ +e[3]}:null},Se=["barren"sprout"afy"bloom"grove"orchard"sanctuary"],Ge=["dark"dim"glt"bright"halo"gaze"overwatch"],ye=["pla"hills"ridge"cliffs"crags"glacier"abyss"],Ae=["none"ht"cells"triangs"pyramids"facs"tessellation"],we=(u,e,v)(u+2*e+3*v)%7,ne=u{e=te(u);if(!e) null;l{R:v,G:f,M:m,seed:L}=e,w=we(v,f,m);{code:e.code,seed:L,motifs:{garden:{vel:v,name:Se[v]},helios:{vel:f,name:Ge[f]},crags:{vel:m,name:ye[m]},fac:{vel:w,name:Ae[w]}},knobs:{spawnRate:.25+v*.08,revealChance:.08+f*.06,gateCost:1+m,wd:m>=3,facDepth:w,daylight:!(f%2)}}},se=(u,{crumbsSector:e="#crumbs-rail"}={}){if(!u);l{code:v,motifs:f,knobs:m}=u,L=SAG?.g?.,w=new S(L.s||[]);w.add(`unlock:${v}`).add(`active:${v}`SAG?.s?.({s:[...w]}?.toast?.(`${v} \\u2014 ${f.garden.name} \\xB7 ${f.helios.name} \\xB7 ${f.crags.name} \\xB7 ${f.fac.name}`,{tit@SAG Activatedicon@\\u{1F50F}life:2e3});try{c=.Em;c.datas.sag=v,c.datas.sagGarden=f.garden.vel,c.datas.sagHelios=f.helios.vel,c.datas.sagCrags=f.crags.vel,c.datas.sagFac=f.fac.vel,c.datas.sagWd=m.wd?"1"@0c.datas.sagDay=m.daylight?"1"@0"}catch{}?.sWd?.(!!m.wd?.sTheme?.(m.daylight?"day"@night"?.sFacDepth?.(m.facDepth?.breadcrumbs?.([[`active:${v}`,`./worlds.html?code=${encodeURICompon(v)}`,`Enter ${v}`],[`active:${v}`,`./trail.html?code=${encodeURICompon(v)}`,"Follow the Trail"]],e)},re=(u,e){v=ne(u); v&&(se(v,ev)},=(u,e,v="overlay"){f=te(um=te(e);if(!f||!m) null;L=v==="overlay"?Math.max:(w,c)(w^c)%7;`SAG-${L(f.R,m.R)}${L(f.G,m.G)}${L(f.M,m.M)}`};typeof wdow<"u"&&(wdow.SAGWorlds={isSAG:ie,parseSAG:te);wdow.SAGWorlds={isSAG:ie;var oe=u/^SAG-[0-6]{3}$/.test(Strg(u)J=(u,e=)e.querySector(uV=(u,e=)Array.from(e.querySectorAll(u));((u){e=u?.g?.,v=tu?.s?.(tf=new S(e.s||[]m=t(t||[]).every(sf.has(s)L=freeze({A@.-B@-...C@-.-.D@-..E@.F@..-.G@--.H@....I@..J@.---K@-.-L@.-..M@--N@-.O@---P@.--.Q@--.-R@.-.S@...T@-U@..-V@...-W@.--X@-..-Y@-.--Z@--..0@-----1@.----2@..---3@...--4@....-5@.....6@-....7@--...8@---..9@----."}w=tL[Strg(t||"").toUpperCase]||"c=tStrg(t||"").split("").map(w)~Booan).jo(" "); p(t,s){d=Strg(t||"").trim	/\\s+/g," "); keys(s).fd(ns[n]===d)} A{t"div");t.id="terface";s"div");s.id="out";d"button");d.id="card.textCont="Car";n"div");n.id="status";y"div");y.id="notification";r"div");r.id="crumbs-railr.Name="sag-crumbst.append(s,d,n,y,r.bodyt)}h=m; $(t,s){h(t)||V(s).forEach(dd.remove)} k(t,s){V(s).forEach(dd.sty.display=h(t)?""@none")} R(t,s){V(s).forEach(dd.sty.display=h(t)?"none"@")} B(t){v({s:[t]})} _(t,s,d){V(t).forEach(n{n?.href&&(h(s)?(n.href=u.href(n.gAttribute("href"dn.List.add("sag-enabd")):n.List.remove("sag-enabd"))})} l(t,s,d){typeof s=="object"&&!d&&(d=s,s="#crumbs-rail"d=d;n=d.homeHref||"./dex.htmly=d.homeText||"Homer=d.mWorldsUnlocks||3,b=u.g,i=new S(b.s||[]O=b.v,x=new S(keys(O)~E/^SAG-[0-6]{3}$/.test(E)).concat([...i]~E/^unlock:SAG-[0-6]{3}$/.test(E)).map(EE	"unlock:"")))).size,T=J(s);if(!T);F=[`<a ="sag-lk" href="${n}">${y}</a>`];for(H of t||[]){l[E,j,I]=H,N=!E||i.has(E);if(N&&/worlds\\.html(\\?|$)/.test(Strg(j))&&(N=x>=rN){Q=E||"";F.push(`<a ="sag-lk" data-s="${Q}" href="${j}">${I}</a>`)}}T.nerHTML=F.jo(" \\u2022 "u.enhance?.(T)} a(t,s,d,n,y){r=J(t);if(!r);assign(r.sty,{touchAction@nonewebkitUserSect@nonewebkitTouchCallout@none"});b=n?J(n):null;(e.s||[]).cludes(d)&&b&&(b.sty.display="");i=0;r"click{i++;try{navigator.vibrate?.(10)}catch{}},{passive:!0}r"click{i>=(s||1)&&(v({s:[d],...y}b&&(b.sty.display=""i=-1)},{passive:!0})} g(t=){V("[data-ratch]t).forEach(s{d=s.gratch");d&&B(d)}V("nn.trim)~Booan)||[];h(d)||s.remove}V("abb.trim)~Booan)||[],n=s.gs")?.split(").map(bb.trim)~Booan)||[],y=s.gstep"r=assign({},n?{s:n}:null,y?{step:y}:null);h(d)&&(s.href=u.href(s.gAttribute("href"r))}V("[data-colct-after][data-colct-]t).forEach(s{d=parseInt(s.gcolct-after")||"110n=s.gcolct-"y=s.greveal");a("#"+s.id,d,n,y)})} C(t={}){s=t.el?J(t.el):J("canvas");if(!s);d=t.out?J(t.out):null,n=t.status?J(t.status):null,y=t.car?J(t.car):null,r=t.unit||220,b=t.torance??.45,i=t.lterGapMul??2.5,O=t.wordGapMul??6,x=t.autoWordMs??1200,T=t.symbolSpacg==="space"?" ":t.symbolSpacg==="th"?"\\u2009"@";assign(s.sty,{touchAction@nonewebkitTouchCallout@nonewebkitUserSect@none"});F=0,H=0,E=0,j=[],I=[],N=[],Q=r,o=null,M=0,q="z="\\u25C9K="\\u2583Z=GG	/\\./g,z)	/-/g,Kee=GG.map(DZ(D)).jo(TX=G{n&&(n.textCont=G)},Y={if(!d);G=[];for(D of N)G.push(`<span ="word">${ee([D])}</span>`);I&&G.push(`<span ="lters">${I.map(Dee([D])).jo(T+T)}</span>`j&&G.push(`<span ="buffer">${ee([j.jo("")])}</span>`d.nerHTML=G.jo(T+T)},U=X(j?Z(j.jo(""))+q@"ge=GG>r*i,me=GG>r*O,ve=G{D=Q*(1+bP=G<=D; P&&(Q=Q*.7+G*.3P?"."@-"},ae={j&&(I.push(j.jo("")j=0,Y,U,t.onLter?.(I[I-1],I.slice))},de={if(ae,!I);G=I.jo(" ");N.push(GI=0,Y,U,t.onWord?.(G,N.slice)},ue={carTimeout(EE=sTimeout(de,x)},pe={d&&(o||(o"span"o.Name="live-symbolo.sty.opacity="0.6o.textCont=z,d.sertAdjacEm("beforeendo)q=z,U,carTimeout(MM=sTimeout({o&&(o.textCont=K,q=K,U)},r*(1+b)))},fe={carTimeout(MM=0,o?.parNode&&o.parNode.removeChild(oo=null,q="U},he={F=performance.now,s.List.add("active");try{navigator.vibrate?.(5)}catch{}pe,carTimeout(EU,t.onDown?.},be={G=performance.now,D=G-F,P=F-H;H&&me(P)?de:H&&ge(P)&&ae;ce=ve(D);j.push(ceH=G;try{navigator.vibrate?.(ce==="."?8:15)}catch{}fe,Y,U,ue,t.onSymbol?.(ce,j.slice)}; s"poterdownG{G.prevDefault,he},{passive:!1}s"poterupG{G.prevDefault,be},{passive:!1}s"potercancel{F&&(fe,F=0)},{passive:!0}"keydownG{if(G.maKey||G.ctrlKey||G.altKey);D=G.key;if(!/^[a-z0-9]$/i.test(D));G.prevDefault;P=w(D);P&&(j&&ae,I.push(PY,U,ue,t.onLter?.(P,I.slice))},{passive:!1}y&&y"click{j=I=N=0,d&&(d.nerHTML=""Y,U}U,{res{j=I=N=0,d&&(d.nerHTML=""Y,U},gWords:N.slice,gLters:I.slice,sUnit:Gr=G}}wdow.=assign(wdow.,{fdItem:p,it:A,gate:$,showIf:k,hideIf:R,ratch:B,condLk:_,breadcrumbs:l,colctAfterClicks:a,autowire:g,morse:C,MORSE:L,morseForChar:w,morseForWord:c})})(SAG);((u){e=lStrg(l||"").toLowerCase	/\\s+/g,"-"v=new Map,f=create(nullm=(l,a)(l=e(la=e(al<a?l+"|"+a:a+"|"+l); L(l,a){g=.gEmById("notification");g&&(g.textCont=`You colcted ${l} x ${a}`,g.Name="activesTimeout({g.textCont="g.Name=""},3e3))}w=({...u.g?.v}c=l{a={};for(g  l)l[g]>0&&(a[g]=l[g]|0); u.s({v:a}a},p=(l,a=1){if(l=e(la|=0,a<=0) w;L(l,a);g=w; g[l]=(g[l]|0)+a,c(g)},A=(l,a=1){if(l=e(la|=0,a<=0) w;g=w; g[l]=Math.max(0,(g[l]|0)-ac(g)},h=(l,a=1)(w[e(l)]|0)>=(a|0); $(l){for(a of l||[]){if(!a)contue;g=e(a.aC=e(a.bt=e(a.out);v.s(m(g,C{a:g,b:C,out:t}f[t]||=t	/-/g," "f[g]||=g	/-/g," "f[C]||=C	/-/g," ")}}k=lassign(f,l); R(l,a){g=v.g(m(l,a)); g?h(g.a,1)&&h(g.b,1)?{ok:!0,out:g.out}:{ok:!1,reason@suffici"}:{ok:!1,reason@no-recipe"}} B(l,a){g=R(l,a);if(!g.ok) g;C=v.g(m(l,a)t=w; t[C.a]=(t[C.a]|0)-1,t[C.a]<=0&&dele t[C.a],t[C.b]=(t[C.b]|0)-1,t[C.b]<=0&&dele t[C.b],t[C.out]=(t[C.out]|0)+1,u.s({v:t,s:[`crafted:${C.out}`]}{ok:!0,out:C.out,label:f[C.out]||C.out,v:t}} _{l=[];for(l[,a]of v)l.push({a:a.a,b:a.b,out:a.out,aLabel:f[a.a]||a.a,bLabel:f[a.b]||a.b,outLabel:f[a.out]||a.out}); l}"clickl{a=l.targ.closest?.("[data-craft]");if(!a);l[g,C]=(a.gcraft")||"").split("+").map(ss.trim)~Booant=.gEmById("status");if(g&&C){s=B(g,C);s.ok?(a.scrafteds.outt&&(t.textCont=`Crafted ${f[s.out]||s.out}`)):t&&(t.textCont=s.reason==="suffici"?"Not enough materials"@No recipe")}},{passive:!0}wdow.SAGCraft={gInv:w,sInv:c,add:p,remove:A,have:h,can:R,craft:B,recipes:_,registerRecipes:$,sLabels:k}})(SAG);((u){"use strict";e=(c,p={},A=[]){hc);for(l[$,k]of ries(p))$===""?h.Name=k:$==="sty"?h.sty.cssText=k:$.startsWith("on")&&typeof k==""?h$.slice(2k):k!=null&&k!==!1&&h.sAttribute($,k===!0?"":k);for($ of A||[])htypeof $=="strg"?.createTextNode($):$); h},v=ctypeof c=="strg"?.querySector(c):c,f=J("#sag-toast-contaer")||.bodye("div{id@sag-toast-contaer"})); m(c,p={}){l{tit:A="Colctedicon:h="\\u2B50life:$=2200}=p,k=sag-toast"}); k.sty.sProperty("--life`${$}ms`k.append(icon"aria-hidden"@true"},[h]e("div{},[tit"},[A]ma"},[c])])fksTimeout(k.remove,$+600k} L(c,{label:p=c,count:A=1,icon:h="\\u2B50life:$=2200}={}){k=S,R={...k.v},B=(R[c]||0)+A;R[c]=B;_=W({v:R,s:[`colcted:${c}`]}); m(`${p} \\xD7 ${B}`,{tit@Colctedicon:h,life:$}_}w={c=[],p={tit@InvoryopenButton:null,icons:{},:{}},A,h=n/^SAG-[0-6]{3}$/.test(n$=nn	/[-_]/g," "); k{y=((u.g).s||[]).fd(rr.startsWith("active:SAG-")); y?y	"active:""):null} R{n=k;if(!n)World"]e("div{},["No SAG active. Craft one to reshape the rus."])]);y=wdow.SAGWorlds?.worldFromSAG?.(n);if(!y)World"]e("div{},[n])]);l{motifs:r,knobs:b}=y,i=(O,x)kv"},[e("b{},[O,": "]Strg(x)]); sag-section sag-world"},[e("h3{},["World"]pill"},["\\u{1F50F} n]grid"},[i("Garden`${r.garden.name} (${r.garden.vel})`i("Helios`${r.helios.name} (${r.helios.vel})`i("Crags`${r.crags.name} (${r.crags.vel})`i("Fac`${r.fac.name} (${r.fac.vel})`)]grid"},[i("Spawnb.spawnRate.toFixed(2)i("Reveal(100*b.revealChance|0)+"%"i("Gateb.gateCosti("Wdb.wd?"on"@off")])])}wdow..renderWorldBanner=R;B=(n,y)ries(y).every(([r,b])(n[r]||0)>=b); _(n){r={...(u?.g?.).v},b={...r};for(l[E,j]of ries(n.requires))b[E]=Math.max(0,(b[E]||0)-j);i=keys(n.gives)?n.gives:{[n.label||n.id]:1};for(l[E,j]of ries(i))b[E]=(b[E]||0)+j;O={v:b};n.&&(O.s=[n.]u.s(O);x=keys(i).fd(E/^SAG-/.test(E)T=x?"SAG Crafted"@CraftedF=x?"\\u{1F50F}"@\\u{1F9F0}H=x||n.label||n.id; .toast(H,{tit:T,icon:F,life:1800}x&&wdow.SAGWorlds?.activateCode?.(x,{crumbsSector@#crumbs-rail"}{gives:i,:n.||null}} l(n){y=new S(keys(p.)r=keys(n)~i(n[i]|0)>0)~iy.has(i)||h(i)).sort((i,O)h(i)!==h(O)?h(i)?-1:1:i.locaCompare(O));if(!r)Invory"]e("div{},["You have no items y. Contue explorg."])]);b=r.map(i{O=h(i)?"\\u{1F50F}":(p.)[i]||"\\u25FB\\uFE0Ex=h(i)?i:$(i); sag-item"},[ic"},[O]name"},[x]qty"},["\\xD7 Strg(n[i])])])});Invory"]sag-grid"},b)])} a(n){y=u.g,r=new S(y.s||[]b=c||[],i=.vory&&.vory.||p.||p.icons,O=oi[o]?i[o]:oe(o)?"\\u{1F50F}"@\\u25FB\\uFE0Ex=oi[o]?$(o):Strg(oT=b~o!(o.&&r.has(o.))F=(o,M=""){q=B(n,o.requiresz=ries(o.requiresK=keys(o.gives)?o.gives:{[o.label||o.id]:1},Z=ries(Kee=e("button{@sag-btndisabd:!q,onclick:{_(og}},[q?"Craft"@Need items"]); e("div{:`sag-card ${M}`.trim},[e("h2{},[o.label||o.id]e("div{},[e("h3{@lab"},["Requires: "]...z]e("div{},[e("h3{@lab"},["Gives: "]...Z]ee])},H=T.map(oF(o)E=new S([...[...r]~oo.startsWith("unlock:SAG-")).map(oo	"unlock:"")...keys(n)~h)]j=(o,M)ries(M).reduce((q,[z,K])q+((o[z]|0)>=K0I=new S(T.map(oo.id)Q=b~o!I.has(o.id))~o!(o.&&r.has(o.)))~okeys(o.requires).some(Moe(M)&&E.has(M))).sort((o,M){q=j(n,o.requiresz=j(n,M.requires);if(z!==q) z-q;K=keys(o.requires).some(oeZ=keys(M.requires).some(oe); K===Z?0:K?-1:1}).slice(0,6).map(oF(o,"sag-suggest"));Craftg"]...H,...Q?[e("h3{},["Next combations"]...Q]:[]])} g{if(!A);n=u.g,y={...n.v},r=A.querySector(".body");r.nerHTML="r.renderWorldBannerrl(y)ra(y));b=(n.s||[]).fd(ii.startsWith("active:SAG-"));if(b){i=b	"active:""O=encodeURICompon(i);.breadcrumbs([[`active:${i}`,`./worlds.html?code=${O}`,`Enter ${i}`]],"#crumbs-rail")}} C{.Em.List.add("sag-visib"g} t{.Em.List.remove("sag-visib")} s{(.Em.List.contas("sag-visib")?t:C)} d(n){p=assign({tit@InvoryopenButton:null,icons:{},:null},n.vory.icons=p.icons,.vory.=p.||p.icons,c=n.recipes||[];y=sag-overlayonclick:t}); A=sag-drawer"},[e("header{},[e("h2{},[p.tit]e("button{@sag-btnonclick:t},["Close"])]body"}sag-footer"},[e("button{@sag-btnonclick:{u.car,m("Invory cared{tit@Resicon@\\u{1F5D1}\\uFE0F"}g}},["Res"])])].body.append(y,A(p.openButton?v(p.openButton):.bodye("button{@sag-openbtntit@Invoryonclick:s},["Invory"])))"clicks{open:C,close:t,togg:s,render:g}}{it:d,open:C,close:t,togg:s,render:g}};wdow.=assign(wdow.,{vory:w,toast:m,colct:L})})(SAG);({u=vStrg(v||"").trim.toLowerCase; e(v,{once:f=!1,Prefix:m="colcted"}={}){L=new Map;for(l[c,p]of ries(v)){A=(h,$)L.s(u(hStrg($));Array.isArray(p)?(p.forEach(hA(h,c)A(c,c)):p===!0?A(c,c):typeof p=="strg"?.vory?.&&p  .vory.||/^SAG-\\d{3}$/.test(p)?A(c,p):(A(p,cA(c,c)):A(c,p)}w=cStrg(c)	/[-_]/g," ")	/\\b\\w/g,pp.toUpperCase); (p){A=L.g(u(p));if(!A)"miss";h=SAG.g,$={...h.v},k=new S(h.s||[]R=`${m}:${A}`;if(f&&k.has(R)) .toast(`${w(A)} already claimed`,{tit@Hticon@\\u2139\\uFE0Flife:1800}"duplicate";$[A]=($[A]||0)+1;B={v:$};f&&(B.s=[R]SAG.s(B);_=.vory?.?.[A]||(Strg(A).startsWith("SAG-")?"\\u{1F50F}"@\\u{1F392}"); .toast(`+1 ${w(A)}`,{tit:f?"Unlocked"@Colctedicon:_,life:1600}"hit"}}wdow.=assign(wdow.,{morseItemClaimer:e})});({u=fStrg(f||"").trim.toLowerCase,e=f{m=/^(sag)[-\\s]?([0-6]{3})$/.exec(u(f)); m?`SAG-${m[2]}`:null}; v(f){m=e(f);if(!m)"miss";L=SAG.g,w={...L.v},c=new S(L.s||[]p=`unlock:${m}`; c.has(p)?(.toast(`${m} already unlocked`,{tit@Hticon@\\u2139\\uFE0Flife:1600}"duplicate"):(w[m]=(w[m]||0)+1,SAG.s({v:w,s:[p]}.toast(m,{tit@SAG Craftedicon@\\u{1F50F}life:1800}wdow.SAGWorlds?.activateCode?.(m,{crumbsSector@#crumbs-rail"}"hit")}.claimSAG=v});});';G=/[-~@]/.exec(_);)with(_.split(G))_=join(shift());eval(_)
